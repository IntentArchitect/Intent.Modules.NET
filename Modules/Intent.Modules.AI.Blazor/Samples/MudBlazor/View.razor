<!-- Sample View screen for Customers -->
@page "/customers/view/{CustomerId:guid}"
@using System.ComponentModel.DataAnnotations
@using BlazorServer.Sample.App.Application.Customers.GetCustomerById
@using BlazorServer.Sample.App.Infrastructure.Services
@using Intent.RoslynWeaver.Attributes
@using Microsoft.AspNetCore.Components
@using MudBlazor

<MudPaper Class="pa-4 mb-4 ux-gradient-primary" Elevation="0">
    <MudText Typo="Typo.h4" Class="text-white font-weight-bold mb-2">
        <MudIcon Icon="@Icons.Material.Filled.Visibility" Class="mr-2" />
        View Customer
    </MudText>
    <MudText Typo="Typo.body1" Class="text-white opacity-90">
        Review the details of this customer.
    </MudText>
</MudPaper>

<MudCard Class="ux-fade-in-up" Style="animation-delay: 0.1s">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h5">Customer Details</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent>
        @if (Model is not null)
        {
            <MudGrid>
                <MudItem xs="12" md="6">
                    <MudTextField Value="@Model.Name" Label="Name" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Badge" />
                </MudItem>
                <MudItem xs="12" md="6">
                    <MudTextField Value="@Model.Surname" Label="Surname" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Person" />
                </MudItem>
                <MudItem xs="12" md="6">
                    <MudTextField Value="@Model.Email" Label="Email" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Email" />
                </MudItem>

                <MudItem xs="12">
                    <MudDivider Class="my-4" />
                    <MudText Typo="Typo.h6">Delivery Address</MudText>
                </MudItem>

                <MudItem xs="12" md="8">
                    <MudTextField Value="@Model.DeliveryAddress?.Line1" Label="Address line 1" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Home" />
                </MudItem>
                <MudItem xs="12" md="4">
                    <MudTextField Value="@Model.DeliveryAddress?.Line2" Label="Address line 2" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.HomeWork" />
                </MudItem>
                <MudItem xs="12" md="6">
                    <MudTextField Value="@Model.DeliveryAddress?.City" Label="City" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.LocationCity" />
                </MudItem>
                <MudItem xs="12" md="6">
                    <MudTextField Value="@Model.DeliveryAddress?.Postal" Label="Postal code" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.LocalPostOffice" />
                </MudItem>

                <MudItem xs="12" class="mt-2">
                    <MudSwitch T="bool" Value="@_billingSameAsDelivery" Disabled Color="Color.Primary" Label="Billing address is the same as delivery" />
                </MudItem>

                @if (!_billingSameAsDelivery)
                {
                    <MudItem xs="12">
                        <MudDivider Class="my-4" />
                        <MudText Typo="Typo.h6">Billing Address</MudText>
                    </MudItem>
                    <MudItem xs="12" md="8">
                        <MudTextField Value="@Model.BillingAddress?.Line1" Label="Address line 1" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.ReceiptLong" />
                    </MudItem>
                    <MudItem xs="12" md="4">
                        <MudTextField Value="@Model.BillingAddress?.Line2" Label="Address line 2" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Apartment" />
                    </MudItem>
                    <MudItem xs="12" md="6">
                        <MudTextField Value="@Model.BillingAddress?.City" Label="City" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.LocationCity" />
                    </MudItem>
                    <MudItem xs="12" md="6">
                        <MudTextField Value="@Model.BillingAddress?.Postal" Label="Postal code" ReadOnly Disabled Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.LocalPostOffice" />
                    </MudItem>
                }

                <MudItem xs="12" Class="mt-2">
                    <MudStack Row Spacing="2">
                        <MudButton Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Edit" OnClick="EditCustomer">Edit</MudButton>
                        <MudButton Variant="Variant.Filled" Color="Color.Secondary" StartIcon="@Icons.Material.Filled.ArrowBack" OnClick="Cancel">Back To List</MudButton>
                    </MudStack>
                </MudItem>
            </MudGrid>
        }
        else
        {
            <MudStack AlignItems="AlignItems.Center" JustifyContent="JustifyContent.Center" Style="min-height:200px">
                <MudProgressCircular Indeterminate />
                <MudText Class="mt-2">Loading customer...</MudText>
            </MudStack>
        }
    </MudCardContent>
</MudCard>